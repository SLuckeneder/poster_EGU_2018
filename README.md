# EGU 2018 Poster

The poster was designed using Inkscape in [svg format](https://github.com/fineprint-global/poster_EGU_2018/blob/master/svg/poster-EGU2018-18297.svg). The svg file links to the figures generated by the R script in `main.R`. A rasterised version of the poster, including embedded maps, is available in [pdf format](https://github.com/fineprint-global/poster_EGU_2018/blob/master/svg/poster-EGU2018-18297.pdf).

## Reproducing the results 

### Clone the repository 

From a terminal run:

```
git clone https://github.com/fineprint-global/poster_EGU_2018
```

### Input data 

The inputs for the R script are: 

- Biotic material from [MapSPAM](http://spam05.harvestchoice.org/v3r2/tiff/production)
- Maps available in the R package `ggplot2`
- Subnational country divisions [GADM maps and data](http://biogeo.ucdavis.edu/data/gadm2.8/shp/BRA_adm_shp.zip)
- Abiotic material from [SNL Metal and Mining Data](https://www.snl.com/web/client?auth=inherit#office/screener)

Our script automatically downloads the data except for the SNL mining data, which is not open. Unfortunately, we cannot provide SNL Metals & Mining Data in our repository. The data can be purchased from S&P Global Market Intelligence at [https://www.spglobal.com/marketintelligence/en/campaigns/metals-mining](https://www.spglobal.com/marketintelligence/en/campaigns/metals-mining).

From the S&P Global Market Intelligence platform, we used the following query criteria:
- Filter only the commodities *copper*, *nickel* and *iron ore* worldwide
- Select the variables:
  + Property Name	
  + Property ID	
  + Primary Commodity	
  + Activity Status	
  + Country Name	
  + Latitude (degrees)
  + Longitude (degrees)
  + List of Commodities	
  + Commodity Production - tonne\[2005Y\|(Best Of)\|(Copper)\]
  + Commodity Production - tonne\[2005Y\|(Best Of)\|(Iron Ore)\]
  + Commodity Production - tonne\[2005Y\|(Best Of)\|(Nickel)\]
- Export `as values` to `.xls` and leave the file unchanged and save as `EGU_poster_mining_data.xls` to `./input/`. We create a function `snl_tidy` which converts the data into `tidy` format. 

- Filter only the commodities *gold* worldwide
- Select tha same variables as above replacing `Commodity Production - tonne[2005Y|(Best Of)|(...)]` with `Commodity Production - oz[2005Y|(Best Of)|(Gold)]`
- Export `as values` to `.xls` and leave the file unchanged and save as `EGU_poster_mining_data_gold.xls` to `./input/`.

### Producing the maps

To reproduce the results run the script in `main.R`. You can visualise the resulkts in the [svg file](https://github.com/fineprint-global/poster_EGU_2018/blob/master/svg/poster-EGU2018-18297.svg). 

## FINEPRINT Project 

This work was developed by the [FINEPRINT](http://fineprint.global/) project team, funded by the [European Research Council (ERC)](https://erc.europa.eu/).

The repository is distributed under GPL-v3 license and can be used and redistributed under the same license. 

